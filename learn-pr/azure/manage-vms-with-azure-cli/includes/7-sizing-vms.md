<span data-ttu-id="a3100-101">Las máquinas virtuales deben tener el tamaño adecuado para el trabajo que se espera.</span><span class="sxs-lookup"><span data-stu-id="a3100-101">Virtual machines must be sized appropriately for the expected work.</span></span> <span data-ttu-id="a3100-102">Una máquina virtual sin la cantidad correcta de memoria o de CPU generará un error en la carga o se ejecutará muy lentamente para que sea eficaz.</span><span class="sxs-lookup"><span data-stu-id="a3100-102">A VM without the correct amount of memory or CPU will fail under load, or run too slowly to be effective.</span></span> 

<span data-ttu-id="a3100-103">Al crear una máquina virtual puede especificar un valor de _Tamaño de VM_ que determinará la cantidad de recursos de proceso que se dedicará a la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="a3100-103">When you create a virtual machine, you can supply a _VM size_ value that will determine the amount of compute resources that will be devoted to the VM.</span></span> <span data-ttu-id="a3100-104">Esto incluye la CPU, la GPU y la memoria que Azure pone a disposición de la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="a3100-104">This includes CPU, GPU, and memory that are made available to the virtual machine from Azure.</span></span>

<span data-ttu-id="a3100-105">Azure define un conjunto de [tamaños de máquina virtual predefinidos](https://docs.microsoft.com/azure/virtual-machines/linux/sizes) para Linux y Windows entre los que elegir según el uso previsto.</span><span class="sxs-lookup"><span data-stu-id="a3100-105">Azure defines a set of [pre-defined VM sizes](https://docs.microsoft.com/azure/virtual-machines/linux/sizes) for Linux and Windows to choose from based on the expected usage.</span></span> 

| <span data-ttu-id="a3100-106">Escriba</span><span class="sxs-lookup"><span data-stu-id="a3100-106">Type</span></span> | <span data-ttu-id="a3100-107">Tamaños</span><span class="sxs-lookup"><span data-stu-id="a3100-107">Sizes</span></span> | <span data-ttu-id="a3100-108">DESCRIPCIÓN</span><span class="sxs-lookup"><span data-stu-id="a3100-108">Description</span></span> |
|------|-------|-------------|
| <span data-ttu-id="a3100-109">Uso general</span><span class="sxs-lookup"><span data-stu-id="a3100-109">General purpose</span></span>   | <span data-ttu-id="a3100-110">Dsv3, Dv3, DSv2, Dv2, DS, D, Av2, A0-7</span><span class="sxs-lookup"><span data-stu-id="a3100-110">Dsv3, Dv3, DSv2, Dv2, DS, D, Av2, A0-7</span></span> | <span data-ttu-id="a3100-111">Uso equilibrado de CPU y memoria.</span><span class="sxs-lookup"><span data-stu-id="a3100-111">Balanced CPU-to-memory.</span></span> <span data-ttu-id="a3100-112">Ideal para desarrollo/pruebas, así como para soluciones de datos y aplicaciones de tamaño pequeño a mediano.</span><span class="sxs-lookup"><span data-stu-id="a3100-112">Ideal for dev/test and small to medium applications and data solutions.</span></span> |
| <span data-ttu-id="a3100-113">Proceso optimizado</span><span class="sxs-lookup"><span data-stu-id="a3100-113">Compute optimized</span></span> | <span data-ttu-id="a3100-114">Fs, F</span><span class="sxs-lookup"><span data-stu-id="a3100-114">Fs, F</span></span> | <span data-ttu-id="a3100-115">Uso elevado de la CPU respecto a la memoria.</span><span class="sxs-lookup"><span data-stu-id="a3100-115">High CPU-to-memory.</span></span> <span data-ttu-id="a3100-116">Adecuado para aplicaciones, dispositivos de red y procesos por lotes con tráfico mediano.</span><span class="sxs-lookup"><span data-stu-id="a3100-116">Good for medium-traffic applications, network appliances, and batch processes.</span></span> |
| <span data-ttu-id="a3100-117">Memoria optimizada</span><span class="sxs-lookup"><span data-stu-id="a3100-117">Memory optimized</span></span>  | <span data-ttu-id="a3100-118">Esv3, Ev3, M, GS, G, DSv2, DS, Dv2, D</span><span class="sxs-lookup"><span data-stu-id="a3100-118">Esv3, Ev3, M, GS, G, DSv2, DS, Dv2, D</span></span>   | <span data-ttu-id="a3100-119">Uso elevado de memoria respecto al núcleo.</span><span class="sxs-lookup"><span data-stu-id="a3100-119">High memory-to-core.</span></span> <span data-ttu-id="a3100-120">Excelente para bases de datos relacionales, memorias caché de capacidad de media a grande y análisis en memoria.</span><span class="sxs-lookup"><span data-stu-id="a3100-120">Great for relational databases, medium to large caches, and in-memory analytics.</span></span> |
| <span data-ttu-id="a3100-121">Almacenamiento optimizado</span><span class="sxs-lookup"><span data-stu-id="a3100-121">Storage optimized</span></span> | <span data-ttu-id="a3100-122">LS</span><span class="sxs-lookup"><span data-stu-id="a3100-122">Ls</span></span> | <span data-ttu-id="a3100-123">Alto rendimiento de disco y E/S.</span><span class="sxs-lookup"><span data-stu-id="a3100-123">High disk throughput and IO.</span></span> <span data-ttu-id="a3100-124">Perfecto para macrodatos y bases de datos SQL y NoSQL.</span><span class="sxs-lookup"><span data-stu-id="a3100-124">Ideal for big data, SQL, and NoSQL databases.</span></span> |
| <span data-ttu-id="a3100-125">GPU optimizada</span><span class="sxs-lookup"><span data-stu-id="a3100-125">GPU optimized</span></span> | <span data-ttu-id="a3100-126">NV, NC</span><span class="sxs-lookup"><span data-stu-id="a3100-126">NV, NC</span></span> | <span data-ttu-id="a3100-127">Máquinas virtuales especializadas específicas para actividades intensas de representación de gráficos y edición de vídeo.</span><span class="sxs-lookup"><span data-stu-id="a3100-127">Specialized VMs targeted for heavy graphic rendering and video editing.</span></span> |
| <span data-ttu-id="a3100-128">Alto rendimiento</span><span class="sxs-lookup"><span data-stu-id="a3100-128">High performance</span></span> | <span data-ttu-id="a3100-129">H, A8-11</span><span class="sxs-lookup"><span data-stu-id="a3100-129">H, A8-11</span></span> | <span data-ttu-id="a3100-130">Nuestras máquinas virtuales con CPU más eficaces e interfaces de red de alto rendimiento (RDMA) opcionales.</span><span class="sxs-lookup"><span data-stu-id="a3100-130">Our most powerful CPU VMs with optional high-throughput network interfaces (RDMA).</span></span> | 

<span data-ttu-id="a3100-131">Los tamaños disponibles cambian en función de la región en la que se crea la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="a3100-131">The available sizes change based on the region you're creating the VM in.</span></span> <span data-ttu-id="a3100-132">Puede obtener una lista de los tamaños disponibles con el comando `vm list-sizes`.</span><span class="sxs-lookup"><span data-stu-id="a3100-132">You can get a list of the available sizes using the `vm list-sizes` command.</span></span> <span data-ttu-id="a3100-133">Pruebe a escribir esto en Azure Cloud Shell:</span><span class="sxs-lookup"><span data-stu-id="a3100-133">Try typing this into Azure Cloud Shell:</span></span>

```azurecli
az vm list-sizes --location eastus --output table
```

<span data-ttu-id="a3100-134">Esta es una respuesta abreviada para `eastus`:</span><span class="sxs-lookup"><span data-stu-id="a3100-134">Here's an abbreviated response for `eastus`:</span></span>

```
  MaxDataDiskCount    MemoryInMb  Name                      NumberOfCores    OsDiskSizeInMb    ResourceDiskSizeInMb
------------------  ------------  ----------------------  ---------------  ----------------  ----------------------
                 2          2048  Standard_B1ms                         1           1047552                    4096
                 2          1024  Standard_B1s                          1           1047552                    2048
                 4          8192  Standard_B2ms                         2           1047552                   16384
                 4          4096  Standard_B2s                          2           1047552                    8192
                 8         16384  Standard_B4ms                         4           1047552                   32768
                16         32768  Standard_B8ms                         8           1047552                   65536
                 4          3584  Standard_DS1_v2                       1           1047552                    7168
                 8          7168  Standard_DS2_v2                       2           1047552                   14336
                16         14336  Standard_DS3_v2                       4           1047552                   28672
                32         28672  Standard_DS4_v2                       8           1047552                   57344
                64         57344  Standard_DS5_v2                      16           1047552                  114688
        ....
                64       3891200  Standard_M128-32ms                  128           1047552                 4096000
                64       3891200  Standard_M128-64ms                  128           1047552                 4096000
                64       3891200  Standard_M128ms                     128           1047552                 4096000
                64       2048000  Standard_M128s                      128           1047552                 4096000
                64       1024000  Standard_M64                         64           1047552                 8192000
                64       1792000  Standard_M64m                        64           1047552                 8192000
                64       2048000  Standard_M128                       128           1047552                16384000
                64       3891200  Standard_M128m                      128           1047552                16384000
```

<span data-ttu-id="a3100-135">No se especificó un tamaño al crear la VM, por lo que Azure seleccionó un tamaño de uso general predeterminado de `Standard_DS1_v2` por nosotros.</span><span class="sxs-lookup"><span data-stu-id="a3100-135">We didn't specify a size when we created our VM - so Azure selected a default general-purpose size for us of `Standard_DS1_v2`.</span></span> <span data-ttu-id="a3100-136">Pero se puede especificar el tamaño como parte del comando `vm create` con el parámetro `--size`.</span><span class="sxs-lookup"><span data-stu-id="a3100-136">However, we can specify the size as part of the `vm create` command using the `--size` parameter.</span></span>

```azurecli
az vm create --resource-group ExerciseResources --name SampleVM \
  --image Debian --admin-username aldis --generate-ssh-keys --verbose \
  --size "Standard_DS5_v2"
```

## <a name="resizing-an-existing-vm"></a><span data-ttu-id="a3100-137">Cambio del tamaño de una máquina virtual existente</span><span class="sxs-lookup"><span data-stu-id="a3100-137">Resizing an existing VM</span></span>
<span data-ttu-id="a3100-138">También se puede cambiar el tamaño de una máquina virtual existente si la carga de trabajo cambia o si se especificó un tamaño incorrecto durante la creación.</span><span class="sxs-lookup"><span data-stu-id="a3100-138">We can also resize an existing VM if the workload changes, or if it was incorrectly sized at creation.</span></span> <span data-ttu-id="a3100-139">Antes de solicitar un cambio de tamaño, hay que comprobar si el tamaño que se quiere está disponible en el clúster del que la máquina virtual forma parte.</span><span class="sxs-lookup"><span data-stu-id="a3100-139">Before a resize is requested, we must check to see if the desired size is available in the cluster our VM is part of.</span></span> <span data-ttu-id="a3100-140">Para ello, se puede usar el comando `vm list-vm-resize-options`:</span><span class="sxs-lookup"><span data-stu-id="a3100-140">We can do this with the `vm list-vm-resize-options` command:</span></span>

```azurecli
az vm list-vm-resize-options --resource-group ExerciseResources --name SampleVM --output table
```

<span data-ttu-id="a3100-141">Este devolverá una lista de todas las configuraciones de tamaño posibles que hay disponibles en el grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="a3100-141">This will return a list of all the possible size configurations available in the resource group.</span></span> <span data-ttu-id="a3100-142">Si el tamaño que se quiere no está disponible en el clúster, pero _está_  disponible en la región, se puede [desasignar la máquina virtual](https://docs.microsoft.com/cli/azure/vm?view=azure-cli-latest#az-vm-deallocate).</span><span class="sxs-lookup"><span data-stu-id="a3100-142">If the size we want isn't available in our cluster, but _is_ available in the region, we can [deallocate the VM](https://docs.microsoft.com/cli/azure/vm?view=azure-cli-latest#az-vm-deallocate).</span></span> <span data-ttu-id="a3100-143">Este comando detendrá la máquina virtual en ejecución y la quitará del clúster actual sin perder ningún recurso.</span><span class="sxs-lookup"><span data-stu-id="a3100-143">This command will stop the running VM and remove it from the current cluster without losing any resources.</span></span> <span data-ttu-id="a3100-144">Entonces se puede cambiar el tamaño, con lo que volverá a crearse la máquina virtual en un nuevo clúster donde la configuración de tamaño esté disponible.</span><span class="sxs-lookup"><span data-stu-id="a3100-144">Then we can resize it, which will re-create the VM in a new cluster where the size configuration is available.</span></span>

<span data-ttu-id="a3100-145">Para cambiar el tamaño de una máquina virtual, se utiliza el comando `vm resize`.</span><span class="sxs-lookup"><span data-stu-id="a3100-145">To resize a VM, we use the `vm resize` command.</span></span> <span data-ttu-id="a3100-146">Por ejemplo, vamos a reducir nuestros recursos de máquina virtual actuales al mínimo: 2 G de memoria, 1 núcleo de CPU y 4 G de espacio en disco.</span><span class="sxs-lookup"><span data-stu-id="a3100-146">For example, let's reduce our current VM resources to the bare minimum: 2G of memory, 1 CPU core, and 4G of disk space.</span></span> <span data-ttu-id="a3100-147">Escriba este comando en Cloud Shell:</span><span class="sxs-lookup"><span data-stu-id="a3100-147">Type this command in Cloud Shell:</span></span>

```azurecli
az vm resize --resource-group ExerciseResources --name SampleVM --size "Standard_B1ms"
```

<span data-ttu-id="a3100-148">Este comando tardará unos minutos en reducir los recursos de la máquina virtual y, cuando finalice, devolverá una nueva configuración de JSON.</span><span class="sxs-lookup"><span data-stu-id="a3100-148">This command will take a few minutes to reduce the resources of the VM, and once it's done, it will return a new JSON configuration.</span></span>
<span data-ttu-id="66e53-101">Al diseñar una aplicación que necesita para almacenar los datos, es importante pensar en cómo la aplicación va a organizar y almacenar datos en blobs, contenedores y cuentas de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="66e53-101">When designing an app that needs to store data, it's important to think about how the app is going to organize and store data across storage accounts, containers, and blobs.</span></span>

## <a name="storage-accounts"></a><span data-ttu-id="66e53-102">Cuentas de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="66e53-102">Storage accounts</span></span>

<span data-ttu-id="66e53-103">Una única cuenta de almacenamiento es lo suficientemente flexible como para organizar los blobs como desee, pero debe usar cuentas de almacenamiento adicionales según sea necesario para separar los costos y controlar el acceso a los datos de forma lógica.</span><span class="sxs-lookup"><span data-stu-id="66e53-103">A single storage account is flexible enough to organize your blobs however you like, but you should use additional storage accounts as necessary to logically separate costs and control access to data.</span></span>

## <a name="containers-and-blobs"></a><span data-ttu-id="66e53-104">Contenedores y blobs</span><span class="sxs-lookup"><span data-stu-id="66e53-104">Containers and blobs</span></span>

<span data-ttu-id="66e53-105">La naturaleza de la aplicación y los datos que almacena deben impulsar la estrategia de nomenclatura y organización de contenedores y blobs.</span><span class="sxs-lookup"><span data-stu-id="66e53-105">The nature of your application and the data that it stores should drive your strategy for naming and organizing containers and blobs.</span></span>

<span data-ttu-id="66e53-106">Las aplicaciones con blobs como parte de un esquema de almacenamiento que incluye una base de datos a menudo no necesitan depender en gran medida de la organización, la nomenclatura o los metadatos para indicar algo sobre sus datos.</span><span class="sxs-lookup"><span data-stu-id="66e53-106">Apps using blobs as part of a storage scheme that includes a database often don't need to rely heavily on organization, naming, or metadata to indicate anything about their data.</span></span> <span data-ttu-id="66e53-107">Normalmente, esas aplicaciones utilizan identificadores como GUID como los nombres de blob y hacen referencia a estos identificadores en los registros de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="66e53-107">Such apps commonly use identifiers like GUIDs as blob names and reference these identifiers in database records.</span></span> <span data-ttu-id="66e53-108">La aplicación usará la base de datos para determinar dónde se almacenan los blobs y el tipo de datos que contienen.</span><span class="sxs-lookup"><span data-stu-id="66e53-108">The app will use the database to determine where blobs are stored and the kind of data they contain.</span></span>

<span data-ttu-id="66e53-109">Otras aplicaciones pueden usar Azure Blob Storage más como algo parecido a un sistema de archivos personales, donde se usan los nombres de contenedor y blob para indicar el significado y la estructura.</span><span class="sxs-lookup"><span data-stu-id="66e53-109">Other apps may use Azure Blob storage more like a personal file system, where container and blob names are used to indicate meaning and structure.</span></span> <span data-ttu-id="66e53-110">Los nombres de blob en estos tipos de aplicaciones a menudo se parecerán a los nombres de archivo tradicionales e incluirán extensiones de nombres de archivo como `.jpg` para indicar qué tipos de datos contienen.</span><span class="sxs-lookup"><span data-stu-id="66e53-110">Blob names in these kinds of apps will often look like traditional file names and include file name extensions like `.jpg` to indicate what kind of data they contain.</span></span> <span data-ttu-id="66e53-111">Usarán directorios virtuales (ver abajo) para organizar los blobs y usarán con frecuencia las etiquetas de metadatos para almacenar información sobre los blobs y contenedores.</span><span class="sxs-lookup"><span data-stu-id="66e53-111">They'll use virtual directories (see below) to organize blobs and will frequently use metadata tags to store information about blobs and containers.</span></span>

<span data-ttu-id="66e53-112">Hay algunos conceptos clave que hay que considerar al decidir cómo organizar y almacenar blobs y contenedores.</span><span class="sxs-lookup"><span data-stu-id="66e53-112">There are a few key things to consider when deciding how to organize and store blobs and containers.</span></span>

### <a name="naming-limitations"></a><span data-ttu-id="66e53-113">Limitaciones sobre nomenclatura</span><span class="sxs-lookup"><span data-stu-id="66e53-113">Naming limitations</span></span>

<span data-ttu-id="66e53-114">Los nombres de contenedores y blobs deben seguir una serie de reglas, como las limitaciones de longitud y las restricciones de caracteres.</span><span class="sxs-lookup"><span data-stu-id="66e53-114">Container and blob names must conform to a set of rules, including length limitations and character restrictions.</span></span> <span data-ttu-id="66e53-115">Vea la sección Recursos adicionales al final de este módulo para obtener información más específica sobre las reglas de nomenclatura.</span><span class="sxs-lookup"><span data-stu-id="66e53-115">See the Additional Resources section at the end of this module for more specific information about naming rules.</span></span>

### <a name="public-access-and-containers-as-security-boundaries"></a><span data-ttu-id="66e53-116">Acceso público y contenedores como límites de seguridad</span><span class="sxs-lookup"><span data-stu-id="66e53-116">Public access and containers as security boundaries</span></span>

<span data-ttu-id="66e53-117">De forma predeterminada, todos los blobs requieren autenticación para acceder.</span><span class="sxs-lookup"><span data-stu-id="66e53-117">By default, all blobs require authentication to access.</span></span> <span data-ttu-id="66e53-118">Sin embargo, los contenedores individuales pueden configurarse para permitir la descarga pública de sus blobs sin autenticación.</span><span class="sxs-lookup"><span data-stu-id="66e53-118">However, individual containers can be configured to allow public downloading of their blobs without authentication.</span></span> <span data-ttu-id="66e53-119">Esta característica es compatible con muchos de los casos de uso, como el hospedaje de recursos de sitio web estáticos y el uso compartido de archivos.</span><span class="sxs-lookup"><span data-stu-id="66e53-119">This feature supports many use cases, such as hosting static website assets and sharing files.</span></span> <span data-ttu-id="66e53-120">Esto se debe a que la descarga de contenido de los blobs funciona de la misma forma que la lectura de cualquier otro tipo de datos en la Web: solo debe apuntar al explorador o a cualquier elemento que pueda realizar una solicitud GET a la dirección URL del blob.</span><span class="sxs-lookup"><span data-stu-id="66e53-120">This is because downloading blob contents works the same way as reading any other kind of data over the web: you just point a browser or anything that can make a GET request at the blob URL.</span></span>

<span data-ttu-id="66e53-121">**Imagen del contenedor público de TAREAS PENDIENTES, que muestra la dirección URL de acceso directo**</span><span class="sxs-lookup"><span data-stu-id="66e53-121">**TODO public container image, showing direct access URL**</span></span>

<span data-ttu-id="66e53-122">Habilitar el acceso público es importante para la escalabilidad, porque los datos descargados directamente de Blob Storage no generan ningún tráfico en la aplicación del lado servidor.</span><span class="sxs-lookup"><span data-stu-id="66e53-122">Enabling public access is important for scalability because data downloaded directly from Blob storage doesn't generate any traffic in your server-side app.</span></span> <span data-ttu-id="66e53-123">Incluso si no usa de inmediato el acceso público o si usa una base de datos para controlar el acceso a los datos mediante su aplicación, planee el uso de contenedores independientes para los datos que desea que estén disponibles públicamente.</span><span class="sxs-lookup"><span data-stu-id="66e53-123">Even if you don't immediately take advantage of public access or if you will use a database to control data access via your application, plan on using separate containers for data you want to be publicly available.</span></span>

> [!CAUTION]
> <span data-ttu-id="66e53-124">Los blobs de un contenedor configurado con acceso público los puede descargar cualquier persona que conozca sus direcciones URL de almacenamiento sin ningún tipo de autenticación o auditoría.</span><span class="sxs-lookup"><span data-stu-id="66e53-124">Blobs in a container configured for public access can be downloaded without any kind of authentication or auditing by anyone who knows their storage URLs.</span></span> <span data-ttu-id="66e53-125">Nunca coloque datos de blob en un contenedor público si no desea compartirlos públicamente.</span><span class="sxs-lookup"><span data-stu-id="66e53-125">Never put blob data in a public container that you don't intend to share publicly.</span></span>

<span data-ttu-id="66e53-126">Además del acceso público, Azure tiene una característica de firma de acceso compartido que permite el control de permisos más específico en los contenedores.</span><span class="sxs-lookup"><span data-stu-id="66e53-126">In addition to public access, Azure has a shared access signature feature that allows fine-grained permissions control on containers.</span></span> <span data-ttu-id="66e53-127">El control de acceso de precisión permite escenarios que mejoran aún más la escalabilidad, por lo que pensar en contenedores como límites de seguridad en general es una guía útil.</span><span class="sxs-lookup"><span data-stu-id="66e53-127">Precision access control enables scenarios that further improve scalability, so thinking about containers as security boundaries in general is a helpful guideline.</span></span>

### <a name="blob-name-prefixes-virtual-directories"></a><span data-ttu-id="66e53-128">Prefijos de nombres de blob (directorios virtuales)</span><span class="sxs-lookup"><span data-stu-id="66e53-128">Blob name prefixes (virtual directories)</span></span>

<span data-ttu-id="66e53-129">Técnicamente, los contenedores son "planos" y no admiten cualquier tipo de anidamiento o jerarquía.</span><span class="sxs-lookup"><span data-stu-id="66e53-129">Technically, containers are "flat" and do not support any kind of nesting or hierarchy.</span></span> <span data-ttu-id="66e53-130">Sin embargo, si asigna a los blobs nombres jerárquicos que se parecen a las rutas de acceso a archivos (como `finance/budgets/2017/q1.xls`), la operación de enumeración de la API puede filtrar los resultados de los prefijos específicos.</span><span class="sxs-lookup"><span data-stu-id="66e53-130">But if you give your blobs hierarchical names that look like file paths (such as `finance/budgets/2017/q1.xls`), the API's listing operation can filter results to specific prefixes.</span></span> <span data-ttu-id="66e53-131">Esto le permite navegar por la lista como si se tratara de un sistema jerárquico de archivos y carpetas.</span><span class="sxs-lookup"><span data-stu-id="66e53-131">This allows you to navigate the list as if it was a hierarchical system of files and folders.</span></span>

<span data-ttu-id="66e53-132">Esta característica se denomina a menudo *directorios virtuales* porque algunas herramientas y bibliotecas cliente la usan para visualizar y acceder a Blob Storage como si fuese un sistema de archivos.</span><span class="sxs-lookup"><span data-stu-id="66e53-132">This feature is often called *virtual directories* because some tools and client libraries use it to visualize and navigate Blob storage as if it was a file system.</span></span> <span data-ttu-id="66e53-133">La navegación en cada carpeta desencadena una llamada independiente para enumerar los blobs de dicha carpeta.</span><span class="sxs-lookup"><span data-stu-id="66e53-133">Each folder navigation triggers a separate call to list the blobs in that folder.</span></span>

<span data-ttu-id="66e53-134">**Imagen de TAREAS PENDIENTES del explorador de almacenamiento o el portal con carpetas**</span><span class="sxs-lookup"><span data-stu-id="66e53-134">**TODO image of storage explorer and/or portal w/folders**</span></span>

<span data-ttu-id="66e53-135">El uso de nombres similares a los nombres de archivo para los blobs es una técnica común para organizar datos de blob completos y navegar por ellos.</span><span class="sxs-lookup"><span data-stu-id="66e53-135">Using names that are like file names for blobs is a common technique for organizing and navigating complex blob data.</span></span>

### <a name="blob-types"></a><span data-ttu-id="66e53-136">Tipos de blobs</span><span class="sxs-lookup"><span data-stu-id="66e53-136">Blob types</span></span>

<span data-ttu-id="66e53-137">Existen tres tipos diferentes de blobs en los que puede almacenar los datos:</span><span class="sxs-lookup"><span data-stu-id="66e53-137">There are three different kinds of blobs you can store data in:</span></span>

- <span data-ttu-id="66e53-138">Los **blobs en bloques** están compuestos por bloques de diferentes tamaños que se pueden cargar y descargar de forma independiente y en paralelo.</span><span class="sxs-lookup"><span data-stu-id="66e53-138">**Block blobs** are composed of blocks of different sizes that can be uploaded and downloaded independently and in parallel.</span></span> <span data-ttu-id="66e53-139">La escritura en un blob en bloque conlleva cargar los datos en bloques y confirmarlos en el blob &mdash;; las bibliotecas cliente lo harán automáticamente.</span><span class="sxs-lookup"><span data-stu-id="66e53-139">Writing to a block blob involves uploading data to blocks and committing them to the blob &mdash; client libraries will handle this for you.</span></span>
- <span data-ttu-id="66e53-140">Los **blobs en anexos** son blobs en bloque especializados que solo permiten anexar datos nuevos (no actualizar ni eliminar los datos existentes), pero resultan muy eficaces para ello.</span><span class="sxs-lookup"><span data-stu-id="66e53-140">**Append blobs** are specialized block blobs that support only appending new data (not updating or deleting existing data), but they're very efficient at it.</span></span> <span data-ttu-id="66e53-141">Los blobs en anexos son ideales para escenarios como el almacenamiento de registros o el streaming de datos.</span><span class="sxs-lookup"><span data-stu-id="66e53-141">Append blobs are great for scenarios like storing logs or streaming data.</span></span>
- <span data-ttu-id="66e53-142">Los **blobs en páginas** están diseñados para escenarios que conllevan lecturas y escrituras de acceso aleatorio.</span><span class="sxs-lookup"><span data-stu-id="66e53-142">**Page blobs** are designed for scenarios that involve random-access reads and writes.</span></span> <span data-ttu-id="66e53-143">Los blobs en páginas se usan para almacenar archivos del disco duro virtual (VHD) utilizados por Azure Virtual Machines, pero resultan ideales para cualquier escenario que conlleve el acceso aleatorio.</span><span class="sxs-lookup"><span data-stu-id="66e53-143">Page blobs are used to store the virtual hard disk (VHD) files used by Azure Virtual Machines, but they're great for any scenario that involves random access.</span></span>

<span data-ttu-id="66e53-144">Los blobs en bloques son la mejor opción para la mayoría de los escenarios que no requieren específicamente blobs en anexos o en páginas.</span><span class="sxs-lookup"><span data-stu-id="66e53-144">Block blobs are the best choice for most scenarios that don't specifically call for append or page blobs.</span></span>
<span data-ttu-id="c5bcc-101">Hemos aprendido a crear estimaciones de costos para los entornos que desea crear, visto algunas herramientas para obtener detalles sobre en qué estamos invirtiendo dinero y proyectado futuros gastos.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-101">We have seen how to create cost estimates for environments you'd like to build, walked through some tools to get details on where we're spending money, and projected future expenses.</span></span> <span data-ttu-id="c5bcc-102">Nuestro próximo desafío consiste en ver cómo reducir esos costos de infraestructura.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-102">Our next challenge is to look at how to reduce those infrastructure costs.</span></span>

## <a name="use-reserved-instances"></a><span data-ttu-id="c5bcc-103">Usar instancias reservadas</span><span class="sxs-lookup"><span data-stu-id="c5bcc-103">Use reserved instances</span></span>

<span data-ttu-id="c5bcc-104">Si tiene cargas de trabajo de máquina virtual que son estáticas y predecibles por naturaleza, especialmente aquellas que se ejecutan de forma permanente, usar instancias reservadas es una manera fantástica de ahorrar hasta un 70 % de forma potencial, dependiendo del tamaño de VM.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-104">If you have VM workloads that are static and predictable in nature, particularly ones that run 24x7x365, using reserved instances is a fantastic way to potentially save up to 70 percent, depending on the VM size.</span></span>

![Ahorros en instancias reservadas](../images/savings-coins.png)

<span data-ttu-id="c5bcc-106">Las instancias reservadas se adquieren en plazos de uno o tres años, debiendo pagarse por adelantado la totalidad del plazo.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-106">Reserved instances are purchased in one-year or three-year terms, with payment required for the full term up front.</span></span> <span data-ttu-id="c5bcc-107">Una vez que se adquiere, Microsoft hace coincidir la reserva con las instancias en ejecución y reduce las horas transcurridas desde la realización de la reserva.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-107">After it's purchased, Microsoft matches up the reservation to running instances and decrements the hours from your reservation.</span></span> <span data-ttu-id="c5bcc-108">Las reservas se pueden adquirir a través de Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-108">Reservations can be purchased through the Azure portal.</span></span> <span data-ttu-id="c5bcc-109">Además, como las instancias reservadas son un descuento de cálculo, están disponibles tanto para las máquinas virtuales Windows como para las Linux. </span><span class="sxs-lookup"><span data-stu-id="c5bcc-109">And because reserved instances are a compute discount, they are available for both Windows and Linux VMs.</span></span>

## <a name="right-size-underutilized-virtual-machines"></a><span data-ttu-id="c5bcc-110">Ajustar el tamaño de las máquinas virtuales infrautilizadas</span><span class="sxs-lookup"><span data-stu-id="c5bcc-110">Right-size underutilized virtual machines</span></span>

<span data-ttu-id="c5bcc-111">Recuerde de nuestro anterior debate que Azure Cost Management y Azure Advisor pueden recomendar que se apaguen las máquinas virtuales o se ajuste su tamaño.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-111">Recall from our previous discussion that Azure Cost Management and Azure Advisor might recommend right-sizing or shutting down VMs.</span></span> <span data-ttu-id="c5bcc-112">Ajustar el tamaño de una máquina virtual es el proceso de cambiar su tamaño para que sea el correcto.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-112">Right-sizing a virtual machine is the process of resizing it to a proper size.</span></span> <span data-ttu-id="c5bcc-113">Imaginemos que tiene un servidor que se ejecuta como un controlador de dominio con el tamaño **Standard_D4sv3**, pero su máquina virtual presenta un 90 % de inactividad la mayor parte del tiempo.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-113">Let's imagine you have a server running as a domain controller that is sized as a **Standard_D4sv3**, but your VM is sitting at 90 percent idle the vast majority of the time.</span></span> <span data-ttu-id="c5bcc-114">Al cambiar el tamaño de esta máquina virtual a **Standard_D2s_v3**, reduce su costo de proceso un 50 %.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-114">By resizing this VM to a **Standard_D2s_v3**, you reduce your compute cost by 50 percent.</span></span> <span data-ttu-id="c5bcc-115">Los costos son lineales y dobles por cada tamaño mayor en la misma serie.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-115">Costs are linear and double for each size larger in the same series.</span></span> <span data-ttu-id="c5bcc-116">En este caso, puede incluso beneficiarse del cambio de serie de las instancias para ir a una serie de máquinas virtuales menos costosa.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-116">In this case, you might even benefit from changing the instance series to go to a less expensive VM series.</span></span>

![Cambiar el tamaño de una máquina virtual](../images/vm-resize.png)

<span data-ttu-id="c5bcc-118">Las máquinas virtuales de tamaño grande son un gasto innecesario habitual en Azure y que tiene fácil solución.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-118">Oversized virtual machines are a common unnecessary expense on Azure and one that is easily fixed.</span></span> <span data-ttu-id="c5bcc-119">Puede cambiar el tamaño de una máquina virtual a través de Azure Portal, Azure PowerShell o la CLI de Azure.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-119">You can change the size of a VM through the Azure portal, Azure PowerShell, or the Azure CLI.</span></span>

> [!NOTE]
> <span data-ttu-id="c5bcc-120">Al cambiarse el tamaño de una máquina virtual, esta se detiene y, una vez cambia su tamaño, se reinicia.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-120">Resizing a VM requires that it be stopped, resized, and then restarted.</span></span> <span data-ttu-id="c5bcc-121">Esto puede tardar unos minutos dependiendo de lo significativo que sea el cambio de tamaño.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-121">This may take a few minutes depending on how significant the size change is.</span></span> <span data-ttu-id="c5bcc-122">Planee una interrupción o cambie su tráfico a otra instancia mientras realiza esta tarea.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-122">Plan for an outage, or shift your traffic to another instance while you perform this task.</span></span>

## <a name="deallocate-virtual-machines-in-off-hours"></a><span data-ttu-id="c5bcc-123">Desasignar máquinas virtuales en las horas de inactividad</span><span class="sxs-lookup"><span data-stu-id="c5bcc-123">Deallocate virtual machines in off hours</span></span>

<span data-ttu-id="c5bcc-124">Si tiene cargas de trabajo de máquina virtual que solo se usan durante determinados periodos de tiempo, pero las ejecuta cada hora de cada día, está perdiendo dinero.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-124">If you have virtual machine workloads that are only used during certain periods of time, but you're running them every hour of every day, you're wasting money.</span></span> <span data-ttu-id="c5bcc-125">La probabilidad de que estas máquinas virtuales se apaguen es muy alta si no se usan y empiezan a realizar copias de seguridad programadas, lo que le ahorra costos de proceso mientras se desasigna la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-125">These VMs are great candidates to shut down when not in use and start back up on a schedule, saving you compute costs while the VM is deallocated.</span></span>

<span data-ttu-id="c5bcc-126">Este enfoque es una gran estrategia para los entornos de desarrollo.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-126">This approach is a great strategy for development environments.</span></span> <span data-ttu-id="c5bcc-127">Muchas veces sucede que el desarrollo puede producirse solo durante las horas laborables, lo que le da la flexibilidad necesaria para desasignar estos sistemas en las horas de inactividad e impide que se acumulen sus costos de proceso.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-127">It's often the case that development may happen only during business hours, giving you the flexibility to deallocate these systems in the off hours and stopping your compute costs from accruing.</span></span> <span data-ttu-id="c5bcc-128">Ahora Azure tiene una [solución de automatización](https://docs.microsoft.com/azure/automation/automation-solution-vm-management) totalmente disponible para que pueda aprovecharla en su entorno.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-128">Azure now has an [automation solution](https://docs.microsoft.com/azure/automation/automation-solution-vm-management) fully available for you to leverage in your environment.</span></span>

<span data-ttu-id="c5bcc-129">También puede usar la característica de apagado automático en una máquina virtual para programar apagados automatizados.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-129">You can also use the auto-shutdown feature on a virtual machine to schedule automated shutdowns.</span></span>

![Apagado automático](../images/vm-auto-shutdown.png)

## <a name="delete-unused-virtual-machines"></a><span data-ttu-id="c5bcc-131">Eliminar las máquinas virtuales sin usar</span><span class="sxs-lookup"><span data-stu-id="c5bcc-131">Delete unused virtual machines</span></span> 

 <span data-ttu-id="c5bcc-132">Tal vez suene obvio este consejo, pero si no usa un servicio, debe apagarlo.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-132">This advice may sound obvious, but if you aren't using a service, you should shut it down.</span></span> <span data-ttu-id="c5bcc-133">No es raro encontrar sistemas de prueba de concepto o que no son de producción que se han dejado para un proyecto que ya no es necesario.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-133">It's not uncommon to find non-production or proof-of-concept systems left around following a project that is no longer needed.</span></span> <span data-ttu-id="c5bcc-134">Revise su entorno con regularidad y trabaje para identificar estos sistemas.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-134">Regularly review your environment and work to identify these systems.</span></span> <span data-ttu-id="c5bcc-135">Apagar estos sistemas puede tener un beneficio multifacético, permitiéndole ahorrar en costos de infraestructura y suponiéndole, además, posibles ahorros en licencias y operaciones.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-135">Shutting down these systems can have a multifaceted benefit by saving you not only on infrastructure costs but also potential savings on licensing and operations.</span></span>

## <a name="migrate-to-paas-or-saas-services"></a><span data-ttu-id="c5bcc-136">Migrar a los servicios PaaS o SaaS</span><span class="sxs-lookup"><span data-stu-id="c5bcc-136">Migrate to PaaS or SaaS services</span></span> 

<span data-ttu-id="c5bcc-137">Por último, al mover cargas de trabajo a la nube, una evolución natural es empezar con servicios de infraestructura como servicio (IaaS) y, a continuación, moverlos a servicios de plataforma como servicio (PaaS) según corresponda, en un proceso iterativo.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-137">Lastly, as you move workloads to the cloud, a natural evolution is to start with infrastructure-as-a-service (IaaS) services and then move them to platform-as-a-service (PaaS) as appropriate, in an iterative process.</span></span>

<span data-ttu-id="c5bcc-138">Los servicios PaaS suelen suponer ahorros sustanciales tanto en costos de recursos como en costos operativos.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-138">PaaS services typically provide substantial savings in both resource and operational costs.</span></span> <span data-ttu-id="c5bcc-139">El desafío consiste en que, dependiendo del tipo de servicio, se requerirán niveles de esfuerzo variables para moverse a estos servicios desde una perspectiva de tiempo y de recursos.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-139">The challenge is that depending on the type of service, varying levels of effort will be required to move to these services from both a time and resource perspective.</span></span> <span data-ttu-id="c5bcc-140">Es posible que pueda mover fácilmente una base de datos de SQL Server a Azure SQL Database, pero puede suponer un esfuerzo considerablemente mayor mover su aplicación de varios niveles a un contenedor o arquitectura sin servidor.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-140">You might be able to easily move a SQL Server database to Azure SQL Database, but it might take substantially more effort to move your multitier application to a container or serverless-based architecture.</span></span> <span data-ttu-id="c5bcc-141">Es una buena práctica evaluar de forma continua la arquitectura de sus aplicaciones para determinar si se van a obtener eficiencias a través de servicios PaaS.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-141">It's a good practice to continuously evaluate the architecture of your applications to determine if there are efficiencies to be gained through PaaS services.</span></span>  

<span data-ttu-id="c5bcc-142">Con Azure es más fácil probar estos servicios sin demasiado riesgo. Le ofrece la posibilidad de probar nuevos patrones de arquitectura de forma relativamente fácil.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-142">Azure makes it easy to test these services with little risk, giving you the ability to try out new architecture patterns relatively easily.</span></span> <span data-ttu-id="c5bcc-143">Dicho esto, suele ser un proceso más largo y puede que no sea útil de forma inmediata si busca resultados rápidos desde una perspectiva de ahorro de costos.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-143">That said, it's typically a longer journey and might not be of immediate help if you're looking for quick wins from a cost-savings perspective.</span></span> <span data-ttu-id="c5bcc-144">Azure Architecture Center es un lugar ideal para obtener ideas con las que transformar su aplicación, así como procedimientos recomendados en una amplia gama de arquitecturas y servicios de Azure.</span><span class="sxs-lookup"><span data-stu-id="c5bcc-144">The Azure Architecture Center is a great place to get ideas for transforming your application, as well as best practices across a wide array of architectures and Azure services.</span></span> 